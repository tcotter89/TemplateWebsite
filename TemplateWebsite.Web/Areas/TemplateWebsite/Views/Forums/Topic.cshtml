@model TemplateWebsite.Shared.Models.ContainerForumsTopic
@{
    ViewBag.Title = Model.Topic.Title;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="forum-header">
    <a href="@Url.Action("Forum", "Forums", new { urlName = Model.ForumUrlName })"><span class="glyphicon glyphicon-circle-arrow-left"></span></a>
    <h2>@Model.Topic.Title</h2>
    <a href="#new-post" class="post-reply btn btn-default">New Reply</a>
</div>
<div class="post-container">
    @if (Model.Posts.Count() > 0) {
        foreach (var post in Model.Posts) {
            <div id="@post.PostID" class="post">
                <div>
                    <div class="header">
                        <h3 class="user">@post.Username</h3>
                        <span class="date">@post.PostDate</span>
                    </div>
                    <p class="content">@post.Content</p>
                </div>
            </div>
        }
    } else {
    <h2>No Posts Found</h2>
    }
</div>
<div class="buttons">
    <a href="#new-post" class="post-reply btn btn-default">New Reply</a>
</div>
<div class="new-post-container">
    @using (Html.BeginForm("SubmitNewPost", "Forums", new { topicID = Model.Topic.TopicID, topicUrlName = Model.Topic.UrlName })) {
        <div id="new-post" class="new-post">
            @Html.EditorFor(model => model.Content, new { htmlAttributes = new { @cols = "115", @rows = "6", @class = "content" } })
        </div>
        <div class="buttons">
            <input type="submit" class="btn btn-default" value="Submit" />
            <a href="@Url.Action("Forum", "Forums", new { urlName = Model.ForumUrlName })" class="btn btn-default">Cancel</a>
        </div>
    }
</div>